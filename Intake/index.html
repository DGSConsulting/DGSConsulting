<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clarity Stack Auditâ„¢ - Client Intake Form | DGS Consulting</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
            color: #2d3748;
            min-height: 100vh;
        }

        .form-wrapper {
            max-width: 900px;
            margin: 0 auto;
        }

        .container {
            background: white;
            padding: 0;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        /* Header */
        .form-header {
            background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .form-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            position: relative;
        }

        .logo-img {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 10px;
            padding: 6px;
        }

        .logo-img img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .form-header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            font-weight: 800;
            position: relative;
        }

        .form-header p {
            font-size: 18px;
            opacity: 0.95;
            position: relative;
        }

        /* Progress Bar */
        .progress-section {
            background: #f8f9fa;
            padding: 25px 40px;
            border-bottom: 1px solid #e2e8f0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 600;
            color: #64748b;
        }

        .progress-percentage {
            color: #0066cc;
            font-size: 16px;
            font-weight: 700;
        }

        .progress-indicator {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            background: linear-gradient(90deg, #0066cc 0%, #00d4ff 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 4px;
            box-shadow: 0 0 10px rgba(0, 102, 204, 0.5);
        }

        /* Form Content */
        .form-content {
            padding: 50px 40px;
        }

        .intro-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-left: 4px solid #0066cc;
            padding: 25px;
            margin-bottom: 50px;
            border-radius: 8px;
        }

        .intro-box h2 {
            color: #0066cc;
            font-size: 20px;
            margin-bottom: 12px;
            font-weight: 700;
        }

        .intro-box p {
            color: #475569;
            font-size: 15px;
            line-height: 1.7;
        }

        .intro-box ul {
            margin-top: 15px;
            margin-left: 20px;
            color: #475569;
        }

        .intro-box li {
            margin-bottom: 8px;
        }

        /* Sections */
        .section {
            margin-bottom: 50px;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid #e2e8f0;
        }

        .section-number {
            background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 800;
            box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3);
        }

        .section-title {
            font-size: 24px;
            font-weight: 700;
            color: #1e293b;
        }

        /* Form Groups */
        .form-group {
            margin-bottom: 28px;
        }

        label {
            display: block;
            font-weight: 600;
            color: #334155;
            margin-bottom: 10px;
            font-size: 15px;
        }

        .required {
            color: #dc2626;
            margin-left: 4px;
        }

        .helper-text {
            font-size: 13px;
            color: #64748b;
            margin-top: 6px;
            font-style: italic;
        }

        /* Input Styles */
        input[type="text"],
        input[type="email"],
        input[type="url"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.3s ease;
            background: white;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="url"]:focus,
        input[type="number"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.1);
            transform: translateY(-1px);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%230066cc' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            padding-right: 40px;
        }

        /* Checkbox & Radio Styles */
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .checkbox-item,
        .radio-item {
            display: flex;
            align-items: flex-start;
            padding: 14px;
            background: #f8fafc;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .checkbox-item:hover,
        .radio-item:hover {
            background: #f0f9ff;
            border-color: #bfdbfe;
        }

        .checkbox-item.checked,
        .radio-item.checked {
            background: #e0f2fe;
            border-color: #0066cc;
        }

        input[type="checkbox"],
        input[type="radio"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            margin-top: 2px;
            cursor: pointer;
            flex-shrink: 0;
            accent-color: #0066cc;
        }

        .checkbox-item label,
        .radio-item label {
            margin: 0;
            font-weight: 500;
            cursor: pointer;
            flex: 1;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* Submit Button */
        .submit-section {
            margin-top: 60px;
            padding-top: 40px;
            border-top: 2px solid #e2e8f0;
            text-align: center;
        }

        button[type="submit"] {
            background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
            color: white;
            border: none;
            padding: 18px 60px;
            font-size: 18px;
            font-weight: 700;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0, 102, 204, 0.4);
            position: relative;
            overflow: hidden;
        }

        button[type="submit"]::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        button[type="submit"]:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 28px rgba(0, 102, 204, 0.5);
        }

        button[type="submit"]:hover::before {
            left: 100%;
        }

        button[type="submit"]:active {
            transform: translateY(-1px);
        }

        .submit-note {
            margin-top: 20px;
            color: #64748b;
            font-size: 14px;
            line-height: 1.6;
        }

        .submit-note strong {
            color: #0066cc;
        }

        /* Success Message */
        .success-message {
            display: none;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            animation: slideIn 0.5s ease-out;
        }

        .success-message.show {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .success-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }

        .success-message h2 {
            font-size: 32px;
            margin-bottom: 15px;
        }

        .success-message p {
            font-size: 18px;
            opacity: 0.95;
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .form-header {
                padding: 30px 20px;
            }

            .form-header h1 {
                font-size: 24px;
            }

            .form-content {
                padding: 30px 20px;
            }

            .progress-section {
                padding: 20px;
            }

            .section-title {
                font-size: 20px;
            }

            button[type="submit"] {
                width: 100%;
                padding: 16px;
            }
        }

        /* Loading State */
        .loading {
            pointer-events: none;
            opacity: 0.6;
        }

        .loading button::after {
            content: '';
            display: inline-block;
            width: 16px;
            height: 16px;
            margin-left: 10px;
            border: 2px solid white;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 0.6s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="form-wrapper">
        <div class="container">
            <!-- Header -->
            <div class="form-header">
                <div class="logo-container">
                    <div class="logo-img">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAYAAADL1t+KAAAQAElEQVR4AeydB4AcVf3Hf7+Z2XJ3KXSQJkUQUNG/IIiCgFhAkaYB6aEldAUS0sNC2qWHLoEAgpTkQlfpGBGRIk0UC9KRDknubnenvvf//WZ2r+X67d5t+U3mzevt8+bed96b3Y0BcggBISAEhIAQEAJlT0AEveyHUDogBISAEBACQgCguIIuhIWAEBACQkAICIFBISCCPiiYpRIhIASEgBAQAsUlUM6CXlwyUroQEAJCQAgIgTIiIIJeRoMlTRUCQkAICAEh0BUBEfSuyEi4EBACQkAICIEyIiCCXkaDJU0VAkJACAgBIdAVARH0rsgUN1xKFwJCQAgIASFQUAIi6AXFKYUJASEgBISAEBgaAiLoQ8O9uLVK6UJACAgBIVB1BETQq27IpcNCQAgIASFQiQRE0CtxVIvbJyldCAgBISAESpCACHoJDoo0SQgIASEgBIRAXwmIoPeVmKQvLgEpXQgIASEgBPpFQAS9X9gkkxAQAkJACAgBIdAXgrIAAAAASUVORK5CYII=" alt="DGS Consulting">
                    </div>
                    <div style="text-align: left;">
                        <div style="font-size: 12px; letter-spacing: 2px; opacity: 0.9;">THE CLARITY STACK AUDITâ„¢</div>
                        <div style="font-size: 16px; font-weight: 600;">DGS Consulting</div>
                    </div>
                </div>
                <h1>Client Intake Form</h1>
                <p>Let's get started on clarifying your tech stack</p>
            </div>

            <!-- Progress Section -->
            <div class="progress-section">
                <div class="progress-label">
                    <span>Form Progress</span>
                    <span class="progress-percentage">0% Complete</span>
                </div>
                <div class="progress-indicator">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>

            <!-- Form Content -->
            <div class="form-content">
                <!-- Intro Box -->
                <div class="intro-box">
                    <h2>ðŸ‘‹ Welcome!</h2>
                    <p>Thank you for your interest in The Clarity Stack Auditâ„¢. This form will help me understand your current tech stack and identify the best opportunities for improvement.</p>
                    <p style="margin-top: 12px;"><strong>What to expect:</strong></p>
                    <ul>
                        <li>Takes approximately 10-15 minutes to complete</li>
                        <li>All questions with <span class="required">*</span> are required</li>
                        <li>Your responses remain confidential</li>
                        <li>I'll review and respond within 24 hours</li>
                    </ul>
                </div>

                <!-- Success Message (hidden initially) -->
                <div class="success-message" id="successMessage">
                    <div class="success-icon">âœ“</div>
                    <h2>Thank You!</h2>
                    <p>Your intake form has been submitted successfully.</p>
                    <p style="margin-top: 15px;">I'll review your responses and get back to you within 24 hours with next steps.</p>
                </div>

                <!-- Form -->
                <form id="intakeForm">
                    <!-- Section 1: Company Information -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-number">1</div>
                            <h2 class="section-title">Company Information</h2>
                        </div>
                        
                        <div class="form-group">
                            <label for="companyName">Company Name <span class="required">*</span></label>
                            <input type="text" id="companyName" name="companyName" required placeholder="Enter your company name">
                        </div>

                        <div class="form-group">
                            <label for="industry">Industry <span class="required">*</span></label>
                            <input type="text" id="industry" name="industry" required placeholder="e.g., SaaS, E-commerce, Consulting">
                            <p class="helper-text">What industry does your company operate in?</p>
                        </div>

                        <div class="form-group">
                            <label for="teamSize">Team Size <span class="required">*</span></label>
                            <select id="teamSize" name="teamSize" required>
                                <option value="">Select your team size...</option>
                                <option value="1-5">1-5 employees</option>
                                <option value="6-10">6-10 employees</option>
                                <option value="11-25">11-25 employees</option>
                                <option value="26-50">26-50 employees</option>
                                <option value="51-100">51-100 employees</option>
                                <option value="100+">100+ employees</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="website">Company Website</label>
                            <input type="url" id="website" name="website" placeholder="https://yourcompany.com">
                            <p class="helper-text">Optional but helpful for research</p>
                        </div>
                    </div>

                    <!-- Section 2: Contact Information -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-number">2</div>
                            <h2 class="section-title">Your Information</h2>
                        </div>
                        
                        <div class="form-group">
                            <label for="fullName">Full Name <span class="required">*</span></label>
                            <input type="text" id="fullName" name="fullName" required placeholder="John Smith">
                        </div>

                        <div class="form-group">
                            <label for="role">Your Role <span class="required">*</span></label>
                            <input type="text" id="role" name="role" required placeholder="e.g., Founder, COO, Operations Manager">
                        </div>

                        <div class="form-group">
                            <label for="email">Email Address <span class="required">*</span></label>
                            <input type="email" id="email" name="email" required placeholder="john@company.com">
                        </div>
                    </div>

                    <!-- Section 3: Current Tech Stack -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-number">3</div>
                            <h2 class="section-title">Current Tech Stack</h2>
                        </div>
                        
                        <div class="form-group">
                            <label for="toolCount">How many tools/subscriptions does your team use? <span class="required">*</span></label>
                            <select id="toolCount" name="toolCount" required>
                                <option value="">Select range...</option>
                                <option value="1-5">1-5 tools</option>
                                <option value="6-10">6-10 tools</option>
                                <option value="11-20">11-20 tools</option>
                                <option value="21-30">21-30 tools</option>
                                <option value="31-50">31-50 tools</option>
                                <option value="50+">50+ tools</option>
                                <option value="unknown">I don't know</option>
                            </select>
                            <p class="helper-text">Include all software, apps, and subscriptions</p>
                        </div>

                        <div class="form-group">
                            <label for="toolList">List your main tools (one per line) <span class="required">*</span></label>
                            <textarea id="toolList" name="toolList" required placeholder="Slack&#10;Google Workspace&#10;Asana&#10;HubSpot&#10;Zoom"></textarea>
                            <p class="helper-text">Don't worry about being exhaustive â€” we'll do a full inventory together</p>
                        </div>

                        <div class="form-group">
                            <label for="monthlySpend">Estimated monthly software spend <span class="required">*</span></label>
                            <select id="monthlySpend" name="monthlySpend" required>
                                <option value="">Select range...</option>
                                <option value="<500">Less than $500/month</option>
                                <option value="500-1000">$500-1,000/month</option>
                                <option value="1000-2500">$1,000-2,500/month</option>
                                <option value="2500-5000">$2,500-5,000/month</option>
                                <option value="5000-10000">$5,000-10,000/month</option>
                                <option value="10000+">$10,000+/month</option>
                                <option value="unknown">I don't know</option>
                            </select>
                        </div>
                    </div>

                    <!-- Section 4: Pain Points -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-number">4</div>
                            <h2 class="section-title">Pain Points & Goals</h2>
                        </div>
                        
                        <div class="form-group">
                            <label>Which challenges are you experiencing? (Check all that apply)</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pain1" name="painPoints" value="redundant-tools">
                                    <label for="pain1">Paying for redundant or overlapping tools</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pain2" name="painPoints" value="low-adoption">
                                    <label for="pain2">Low tool adoption by the team</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pain3" name="painPoints" value="context-switching">
                                    <label for="pain3">Too much context switching between tools</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pain4" name="painPoints" value="unclear-ownership">
                                    <label for="pain4">Unclear who manages which tools</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pain5" name="painPoints" value="slow-onboarding">
                                    <label for="pain5">New hires take forever to learn our systems</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pain6" name="painPoints" value="tool-sprawl">
                                    <label for="pain6">Tools keep getting added without oversight</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pain7" name="painPoints" value="cost-unknown">
                                    <label for="pain7">Don't know total software spend</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="biggestPain">What's your biggest frustration with your current tech stack? <span class="required">*</span></label>
                            <textarea id="biggestPain" name="biggestPain" required placeholder="Be as specific as possible... What keeps you up at night about your tools?"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="successLooks">What would success look like after this audit? <span class="required">*</span></label>
                            <textarea id="successLooks" name="successLooks" required placeholder="e.g., Cut monthly spend by 30%, consolidate project management into one tool, everyone knows what to use for what..."></textarea>
                        </div>
                    </div>

                    <!-- Section 5: Project Details -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-number">5</div>
                            <h2 class="section-title">Project Details</h2>
                        </div>
                        
                        <div class="form-group">
                            <label for="timeline">When would you like to complete this audit? <span class="required">*</span></label>
                            <select id="timeline" name="timeline" required>
                                <option value="">Select timeline...</option>
                                <option value="asap">ASAP (within 1-2 weeks)</option>
                                <option value="month">Within the next month</option>
                                <option value="quarter">Within the next quarter</option>
                                <option value="exploring">Just exploring options</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Which audit option interests you? <span class="required">*</span></label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <input type="radio" id="quick" name="auditType" value="quick" required>
                                    <label for="quick"><strong>Quick Audit (90 min)</strong> - Fast wins and immediate recommendations</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="standard" name="auditType" value="standard" required>
                                    <label for="standard"><strong>Standard Audit (1 week)</strong> - Full analysis with implementation roadmap</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="comprehensive" name="auditType" value="comprehensive" required>
                                    <label for="comprehensive"><strong>Comprehensive Audit (2-4 weeks)</strong> - Deep dive with hands-on implementation</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="unsure" name="auditType" value="unsure" required>
                                    <label for="unsure"><strong>Not sure yet</strong> - Let's discuss what's best</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="budget">What's your budget for this project?</label>
                            <select id="budget" name="budget">
                                <option value="">Select budget range...</option>
                                <option value="<1000">Less than $1,000</option>
                                <option value="1000-2500">$1,000-2,500</option>
                                <option value="2500-5000">$2,500-5,000</option>
                                <option value="5000-10000">$5,000-10,000</option>
                                <option value="10000+">$10,000+</option>
                                <option value="flexible">Flexible based on value</option>
                            </select>
                            <p class="helper-text">Optional - helps me recommend the right package</p>
                        </div>

                        <div class="form-group">
                            <label>Are you the final decision-maker for this project? <span class="required">*</span></label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <input type="radio" id="yes-decision" name="decisionMaker" value="yes" required>
                                    <label for="yes-decision">Yes, I make the final decision</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="no-decision" name="decisionMaker" value="no" required>
                                    <label for="no-decision">No, but I have influence</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="shared-decision" name="decisionMaker" value="shared" required>
                                    <label for="shared-decision">Shared decision with others</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 6: Additional Information -->
                    <div class="section">
                        <div class="section-header">
                            <div class="section-number">6</div>
                            <h2 class="section-title">Anything Else?</h2>
                        </div>
                        
                        <div class="form-group">
                            <label for="additional">Is there anything else you'd like me to know?</label>
                            <textarea id="additional" name="additional" placeholder="Any specific concerns, questions, or context that would be helpful..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="hearAbout">How did you hear about The Clarity Stack Auditâ„¢?</label>
                            <select id="hearAbout" name="hearAbout">
                                <option value="">Select...</option>
                                <option value="referral">Referral from a colleague</option>
                                <option value="linkedin">LinkedIn</option>
                                <option value="twitter">Twitter/X</option>
                                <option value="google">Google Search</option>
                                <option value="email">Email outreach</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>

                    <!-- Submit Section -->
                    <div class="submit-section">
                        <button type="submit">Submit Intake Form</button>
                        <p class="submit-note">
                            By submitting this form, you agree to be contacted by DGS Consulting.<br>
                            <strong>I'll review your responses and get back to you within 24 hours.</strong>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Get form elements
        const form = document.getElementById('intakeForm');
        const progressBar = document.getElementById('progressBar');
        const progressPercentage = document.querySelector('.progress-percentage');
        const successMessage = document.getElementById('successMessage');
        const requiredFields = form.querySelectorAll('[required]');

        // Update progress bar
        function updateProgress() {
            let filled = 0;
            const uniqueFields = new Map();

            // Count unique required fields
            requiredFields.forEach(field => {
                if (field.type === 'radio') {
                    if (!uniqueFields.has(field.name)) {
                        uniqueFields.set(field.name, field);
                    }
                } else {
                    uniqueFields.set(field.id || field.name, field);
                }
            });

            // Check completion
            uniqueFields.forEach((field, key) => {
                if (field.type === 'checkbox' || field.type === 'radio') {
                    const checked = form.querySelector(`[name="${field.name}"]:checked`);
                    if (checked) filled++;
                } else if (field.value.trim() !== '') {
                    filled++;
                }
            });

            const percentage = Math.round((filled / uniqueFields.size) * 100);
            progressBar.style.width = percentage + '%';
            progressPercentage.textContent = percentage + '% Complete';
        }

        // Handle checkbox/radio styling
        function updateCheckboxRadioStyles() {
            document.querySelectorAll('.checkbox-item').forEach(item => {
                const checkbox = item.querySelector('input[type="checkbox"]');
                if (checkbox && checkbox.checked) {
                    item.classList.add('checked');
                } else {
                    item.classList.remove('checked');
                }
            });

            document.querySelectorAll('.radio-item').forEach(item => {
                const radio = item.querySelector('input[type="radio"]');
                if (radio && radio.checked) {
                    item.classList.add('checked');
                    // Remove checked from siblings
                    const name = radio.name;
                    document.querySelectorAll(`input[name="${name}"]`).forEach(r => {
                        if (r !== radio) {
                            r.closest('.radio-item').classList.remove('checked');
                        }
                    });
                }
            });
        }

        // Update progress on any input change
        form.addEventListener('input', () => {
            updateProgress();
            updateCheckboxRadioStyles();
        });

        form.addEventListener('change', () => {
            updateProgress();
            updateCheckboxRadioStyles();
        });

        // Form submission
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Add loading state
            form.classList.add('loading');
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Submitting...';

            // Collect form data
            const formData = new FormData(form);
            const data = {};
            
            // Convert FormData to object
            for (let [key, value] of formData.entries()) {
                if (data[key]) {
                    // Handle multiple values (checkboxes)
                    if (Array.isArray(data[key])) {
                        data[key].push(value);
                    } else {
                        data[key] = [data[key], value];
                    }
                } else {
                    data[key] = value;
                }
            }

            // Simulate API call (replace with your actual endpoint)
            await new Promise(resolve => setTimeout(resolve, 1500));

            // In production, you would send data to your server:
            /*
            try {
                const response = await fetch('/api/intake-form', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                if (!response.ok) throw new Error('Submission failed');
                
                // Show success message
                form.style.display = 'none';
                successMessage.classList.add('show');
                
                // Send confirmation email, etc.
            } catch (error) {
                alert('There was an error submitting the form. Please try again or email us directly at DGSConsulting@consultant.com');
                form.classList.remove('loading');
                submitBtn.textContent = originalText;
            }
            */

            // For demo purposes, show success
            form.style.display = 'none';
            successMessage.classList.add('show');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Log data (remove in production)
            console.log('Form Data:', data);
            
            // In production, you might also:
            // - Send to Google Sheets via Apps Script
            // - Send to Airtable
            // - Send to your CRM
            // - Trigger email notifications
        });

        // Initialize
        updateProgress();
        updateCheckboxRadioStyles();

        // Smooth scroll to sections
        document.querySelectorAll('.section').forEach((section, index) => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                section.style.transition = 'all 0.5s ease-out';
                section.style.opacity = '1';
                section.style.transform = 'translateY(0)';
            }, index * 100);
        });

        // Add smooth focus transitions
        const inputs = document.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                this.parentElement.style.transform = 'translateX(5px)';
            });
            
            input.addEventListener('blur', function() {
                this.parentElement.style.transform = 'translateX(0)';
            });
        });

        // Prevent multiple submissions
        let isSubmitting = false;
        form.addEventListener('submit', (e) => {
            if (isSubmitting) {
                e.preventDefault();
                return;
            }
            isSubmitting = true;
        });

        // Auto-save to localStorage (optional - can be removed)
        const STORAGE_KEY = 'clarityStackIntake';
        
        function saveFormData() {
            const formData = new FormData(form);
            const data = {};
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        }

        function loadFormData() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                const data = JSON.parse(saved);
                Object.keys(data).forEach(key => {
                    const field = form.querySelector(`[name="${key}"]`);
                    if (field) {
                        if (field.type === 'checkbox' || field.type === 'radio') {
                            field.checked = true;
                        } else {
                            field.value = data[key];
                        }
                    }
                });
                updateProgress();
                updateCheckboxRadioStyles();
            }
        }

        // Load saved data on page load
        loadFormData();

        // Save data as user types (debounced)
        let saveTimeout;
        form.addEventListener('input', () => {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(saveFormData, 1000);
        });

        // Clear saved data on successful submission
        form.addEventListener('submit', () => {
            setTimeout(() => {
                localStorage.removeItem(STORAGE_KEY);
            }, 2000);
        });
    </script>
</body>
  <footer> <a href="/intake/">Get Your Free Tech Stack Audit â†’</a></footer>
    
</html>
